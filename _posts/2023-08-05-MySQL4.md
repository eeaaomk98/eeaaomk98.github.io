---
published: true
layout: single
title: "MySQL 학습 4편 - 문자열 함수"
categories: DB
author_profile: false
typora-root-url: ../





---

오늘은 문자열을 다루는 다양한 문자열 함수에 대해서 알아보겠다.

## 1. 데이터베이스와 테이블 준비 

먼저 book_shop이라는 데이터베이스 안에 books테이블을 생성해주었고, 데이터를 삽입해주었다. 

```sql
CREATE TABLE books 
	(
		book_id INT NOT NULL AUTO_INCREMENT,
		title VARCHAR(100),
		author_fname VARCHAR(100),
		author_lname VARCHAR(100),
		released_year INT,
		stock_quantity INT,
		pages INT,
		PRIMARY KEY(book_id)
	);
```

![capture](/images/2023-08-05-MySQL4/capture.png)



## 2. CONCAT

CONCAT함수는 concatenate의 줄임말로 문자열을 결합하거나 결합하는 함수이다. 

```sql
-- CONCAT(), 괄호 안에 결합할 값을 넣고 쉼표(,)로 구분. 열의 이름을 넣어 결합할 수도 있다.

SELECT CONCAT('h', 'e', 'l', 'l', 'o');
```

<br>

books테이블에 있는 author_fname과 author_lname을 결합시켜보자. 가운데에 공백도 추가해주었다. 

```sql
SELECT CONCAT(author_fname, ' ', author_lname)from books;
```

<img src="/images/2023-08-05-MySQL4/image-20230805220927854.png" alt="image-20230805220927854" style="zoom: 67%;" />



### 2-1 CONCAT_WS



CONCAT_WS는 concat with seperator로, 첫번째 값으로 구분자를 넣는데, 그 구분자가 모든 값들 사이에 들어가게 된다. 

<br>

이번에는 CONCAT_WS를 이용해 공백을 구분자로 두었고, 출력되는 열 이름을 AS를 사용하여 간단하게 author_name으로 출력하였다.

```sql
-- CONCAT_WS('구분자', 결합할 값, 결합할 값)

SELECT CONCAT_WS(' ', author_fname, author_lname) AS author_name from books;
```

![image-20230805221924395](/images/2023-08-05-MySQL4/image-20230805221924395.png)



<br>

## 3. SUBSTRING - 문자열 추출 

SUBSTRING()은 범위를 지정하여 문자열을 추출할 수 있다.

```sql
-- SELECT SUBSTRING('문자열', 시작위치, 문자열 길이)

SELECT SUBSTRING('Hello World', 1, 5);
```

<img src="/images/2023-08-05-MySQL4/image-20230806131655236.png" alt="image-20230806131655236" style="zoom: 67%;" />



<br>

SUBSTRING()을 줄여서 SUBSTR()로 사용이 가능하다. 

```sql
-- SUBSTRING()을 줄여서 SUBSTR()로 사용 가능
SELECT SUBSTR(title, 1, 10) AS 'short title' FROM books;
```

<img src="/images/2023-08-05-MySQL4/image-20230806132500686.png" alt="image-20230806132500686" style="zoom: 50%;" />

<br>

CONCAT()와 SUBSTR()를 조합하여 쿼리를 작성해보았다. title을 10의 길이만큼 추출한 후, '...'과 결합하였다. 

```sql
SELECT CONCAT
		( 
      	SUBSTR(title, 1, 10), 
      	'...'
    ) 
FROM books;
```

<img src="/images/2023-08-05-MySQL4/image-20230806132851309.png" alt="image-20230806132851309" style="zoom:50%;" />



<br>

## 4. REPLACE

REPLACE()는 문자열을 치환하는 명령어이다. 

```sql
SELECT REPLACE('Hello World', 'Hello', 'minki'); 
-- 'Hello World'에서 'Hello'를 ' minki'로 치환
```

<img src="/images/2023-08-05-MySQL4/image-20230806134218280.png" alt="image-20230806134218280" style="zoom:50%;" />



<br>

```sql
SELECT REPLACE('cheese bread coffee milk', ' ', ' and ');
-- 'cheese bread coffee milk'에서 공백을 ' and '로 치환
```

<img src="/images/2023-08-05-MySQL4/image-20230806141611113.png" alt="image-20230806141611113" style="zoom:50%;" />



<br>

## 5. REVERSE

REVERSE()는 문자열을 반대로 뒤집어 출력해준다.

```sql
SELECT REVERSE('Hello World');
```

<img src="/images/2023-08-05-MySQL4/image-20230806141728055.png" alt="image-20230806141728055" style="zoom: 67%;" />



<br>

## 6. CHAR_LENGTH

CHAR_LENGTH()는 주어진 문자열의 길이를 반환해준다.

```sql
SELECT CHAR_LENGTH('hello'); -- 'hello'의 문자열의 길이인 5를 반환
```

<img src="/images/2023-08-05-MySQL4/image-20230806144145304.png" alt="image-20230806144145304" style="zoom:50%;" />

<br>

## 7. UPPER

UPPER()는 문자열을 대문자로 변환해준다.UPPER()대신 UCASE()로도 사용 가능하다.

```sql
SELECT UPPER('hello world');
```

<img src="/images/2023-08-05-MySQL4/image-20230806144504155.png" alt="image-20230806144504155" style="zoom:50%;" />

<br>

## 8. LOWER

LOWER()는 문자열을 소문자로 변환해준다. LOWER()대신 LCASE()로도 사용 가능하다.

```sql
SELECT LOWER('HELLO WORLD');
```

<img src="/images/2023-08-05-MySQL4/image-20230806144526219.png" alt="image-20230806144526219" style="zoom:50%;" />

<br>



## 9. INSERT

INSERT()는 특정 문자열에 다른 문자열을 삽입한다. 

REPLACE는 기존 문자를 변경하는 것이어서, INSERT와 차이점이 있다. 

```sql
-- SELECT INSERT('문자열', 시작위치, 변경하고 싶은 글자의 수, '추가할 문자열');
SELECT INSERT('Hello Minki', 6, 0, ' There')
```

<img src="/images/2023-08-05-MySQL4/image-20230806170541479.png" alt="image-20230806170541479" style="zoom:67%;" />

<br>

## 10. LEFT

LEFT()는 문자열에서 가장 왼쪽부터 글자를 가져오는 데 사용한다.

```sql
-- SELECT LEFT('문자열', 왼쪽부터 가져올 문자열 길이)
SELECT LEFT('hi minki', 4);
```

<img src="/images/2023-08-05-MySQL4/image-20230806171120398.png" alt="image-20230806171120398" style="zoom: 50%;" />

<br>

## 11. RIGHT

RIGHT()는 문자열에서 가장 오른쪽부터 글자를 가져오는 데 사용한다.

```sql
-- SELECT RIGHT('문자열', 오른쪽부터 가져올 문자열 길이)
SELECT RIGHT('hi minki', 4);
```

<img src="/images/2023-08-05-MySQL4/image-20230806171238519.png" alt="image-20230806171238519" style="zoom:50%;" />

<br>



## 12. REPEAT

REPEAT()는 문자열의 반복횟수를 지정해 반복하여 반환해준다.

```sql
-- SELECT REPEAT('문자열', 반복횟수);
SELECT REPEAT('MySQL ', 5);
```

<img src="/images/2023-08-05-MySQL4/image-20230806171435171.png" alt="image-20230806171435171" style="zoom:50%;" />

<br>

## 13. TRIM

TRIM()은 양쪽에 있는 공백을 제거해준다.

```sql
-- SELECT TRIM(' 문자열 ')
SELECT TRIM('    hi minki  ');
```

<img src="/images/2023-08-05-MySQL4/image-20230806171610775.png" alt="image-20230806171610775" style="zoom:50%;" />
---
published: true
layout: single
title: "MySQL 학습 2편 - 데이터 삽입, NOT NULL, 기본키"
categories: DB
author_profile: false



---

# MySQL 학습 2편 - 데이터 삽입, NOT NULL, 기본키

저번 게시글에서 테이블 생성까지 알아보았다. 이번 시간에는 테이블에 데이터를 삽입해보자. 

## 1. 테이블 새로 만들고, 데이터 삽입

```sql
// 테이블 생성
CREATE TABLE dogs (
	name VARCHAR(50),
	age INT
);
```



```sql
// dogs테이블에 데이터 삽입하기
INSERT INTO dogs(name, age)
VALUES('baduk', 3);
```

데이터를 삽입할 때는 `(name, age)`에 있는 순서에 맞춰서 `VALUES`값에 순차적으로 넣어줘야 한다.

<br>



INSERT문으로 여러 행을 한 번에 삽입할 수 있다.

```sql
INSERT INTO dogs(name, age)
VALUES('haru', 2),
	    ('kong', 1),
      ('park', 6);
```



<br>

<br>

## 2. 테이블의 모든 행 표시하기

테이블에 삽입한 모든 행을 표시하는 명령어를 알아보자.

```sql
SELECT * FROM 테이블이름;
```

<img width="400" alt="image" src="https://github.com/eeaaomk98/eeaaomk98.github.io/assets/134247168/e2c0e4ab-b948-4f23-b973-fef6d0e543b8">

dogs테이블에 넣었던 데이터들을 확인할 수 있다.



<br>

DESC로 dogs테이블을 열었을 때 Null과 Key 열이 있다. 이 두 열은 무엇을 의미하는지 알아보자.

<img width="662" alt="image" src="https://github.com/eeaaomk98/eeaaomk98.github.io/assets/134247168/9e60e6b6-5931-4c0d-bd70-4d32d97208e4">

<br>

## 3. Null과 Not Null

name과 age열에 Null에 대한 값이 YES로 설정되어 있다. 이는 name과 age열에 null 값이 허용되어 있다는 의미이다. 

name 열과 age열에 아무런 값을 넣지 않아도 된다는 말이다. 

```sql
INSERT INTO dogs VALUES(); 
```

<img width="400" alt="image" src="https://github.com/eeaaomk98/eeaaomk98.github.io/assets/134247168/0c676da7-0692-4548-87b8-ddc467930263">

name과 age열에 Null값이 허용되어 있기 때문에 아무런 값을 넣지 않으면 Null 값이 들어가게 된다. 

<br>

하지만 데이터베이스상에서 값이 꼭 필수로 들어가야 하는 경우가 있는데, 이 때는 NOT NULL을 설정하면 된다.

```mysql
CREATE TABLE dogs2(
	  name VARCHAR(50) NOT NULL,  -- NOT NULL 설정
    age INT NOT NULL            -- NOT NULL 설정
);
```

<img width="665" alt="스크린샷 2023-08-03 오후 6 16 37" src="https://github.com/eeaaomk98/eeaaomk98.github.io/assets/134247168/da018725-8849-4a1a-b143-7c93217e14e3">

Null이 허용되지 않도록 테이블을 생성하였다. 정말로 Null값이 들어가지 않는지 테스트 해보자. 

<br>



<img width="700" alt="image" src="https://github.com/eeaaomk98/eeaaomk98.github.io/assets/134247168/1c5e9c59-98de-4ff3-b075-325fb2a08e10">

name이나 age열에 아무런 값을 넣지 않았을 경우에는 에러가 뜨게 된다. NOT NULL이 설정되어 있기 때문에 name과 age열 각각 데이터를 넣어주어야 테이블에 삽입할 수 있다. 

<br>



## 4. Default값 

테이블을 생성할 때, Default값을 설정하여서 아무런 값을 넣지 않았을 때 기본적으로 넣어주는 값을 설정할 수 있다.

```sql
CREATE TABLE dogs3(
	  name VARCHAR(50) DEFAULT 'no name provided',  
    age INT DEFAULT 0
);
```

테이블을 생성할 때 DEFAULT문을 추가하였다. 이렇게 하면 name열에 값을 넣지 않았을 경우 'no name provided'로 이름이 설정되고, age열에 값을 넣지 않았을 경우에는 숫자 '0'으로 기본값이 설정된다. 

<img width="770" alt="image" src="https://github.com/eeaaomk98/eeaaomk98.github.io/assets/134247168/b6d35cfa-966b-4b6c-ac7f-e13cad8189b7">

<br>



테이블을 생성할 때, DEFAULT와 NOT NULL을 함께 쓸 수 있다.

```sql
CREATE TABLE dogs3(
	  name VARCHAR(50) NOT NULL DEFAULT 'no name provided', 
    age INT NOT NULL DEFAULT 0
);
```



<br>



## 5. 기본키

 데이터베이스에서 이름과 나이가 같은 강아지들이 있을 수 있지만 그런 행들을 다루거나 분간하기가 어려울 것이다.

이러한 데이터를 구분하기 위해 기본키(Primary key)를 추가하여 구별할 수 있다.

기본키는 고유 식별자로, 각각의 개별 행에 대한 고유 식별자로 사용되는 열이다. 

```sql
CREATE TABLE unique_dogs (
  	dog_id INT PRIMARY KEY,
    name VARCHAR(50) NOT NULL,
    age INT NOT NULL
);
```

이렇게 생성하면, dog_id 변수가 기본키로 등록되어 각 행에 번호를 붙일 수 있다. 

<br>

이름과 나이가 동일한 3개를 추가하였다.

```sql
INSERT INTO unique_dogs(dog_id, name, age)
VALUES (1, 'minki', 3),
	     (2, 'minki', 3),
	     (3, 'minki', 3);
```



<br>

이름은 minki, 나이는 3인 행을 3번 추가했지만, 지금은 dog_id에 Primary key를 부여하여서 dog_id를 통해 각 행을 구분할 수 있게 되었다.

<img width="430" alt="image" src="https://github.com/eeaaomk98/eeaaomk98.github.io/assets/134247168/f60a9d4b-f453-4a92-88bc-430454b3a0f1">



<br>



## 6. Auto-Increment

위 Primary key에서는 직접 값을 1,2,3 처럼 지정해주었는데, 이를 자동으로 1씩 증가하면서 값을 저장하도록 할 수 있다.

```sql
-- 테이블 생성
CREATE TABLE unique_dogs2 (
	dog_id INT AUTO_INCREMENT,  -- dog_id의 값이 1씩 증가함.
	name VARCHAR(50),
	age INT,
	PRIMARY KEY (dog_id)
);
```

```sql
-- 행 삽입, dog_id의 값은 지정하지 않았음.
INSERT INTO unique_dogs2(name, age) VALUES('minki', 3);
INSERT INTO unique_dogs2(name, age) VALUES('minki', 3);
INSERT INTO unique_dogs2(name, age) VALUES('minki', 3);
INSERT INTO unique_dogs2(name, age) VALUES('minki', 3);
```

<img width="440" alt="image" src="https://github.com/eeaaomk98/eeaaomk98.github.io/assets/134247168/78c00a1f-975d-4efa-9937-408e459a6e99">

 `Auto-Increment` 를 지정해놓았기 때문에 dog_id의 값을 지정하지 않아도 자동적으로 1씩 증가하면서 저장되는 것이다.